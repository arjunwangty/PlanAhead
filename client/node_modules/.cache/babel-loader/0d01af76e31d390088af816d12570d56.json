{"ast":null,"code":"import \"antd/es/modal/style\";\nimport _Modal from \"antd/es/modal\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/select/style\";\nimport _Select from \"antd/es/select\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nvar _jsxFileName = \"/Users/arjunwang/PlanAhead copy/client/src/discuss/CommentInput.jsx\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Login from \"../component/Login\";\nimport \"./discuss.css\";\nimport jwt_decode from \"jwt-decode\";\nconst TextArea = _Input.TextArea;\nconst Option = _Select.Option;\nconst InputGroup = _Input.Group;\nconst yearOfEnrolment = [\"AY2012/2013\", \"AY2013/2014\", \"AY2014/2015\", \"AY2015/2016\", \"AY2016/2017\", \"AY2017/2018\", \"AY2018/2019\", \"AY2019/2020\"];\nconst firstMajor = [\"Data Science and Analytics\", \"Computer Science\", \"Infomation Systems\", \"Infomation Security\", \"Business Analytics\"];\n\nclass CommentInput extends Component {\n  constructor() {\n    super();\n\n    this.showModal = () => {\n      this.setState({\n        visible: true\n      });\n    };\n\n    this.handleOk = () => {\n      this.setState({\n        visible: false\n      });\n      this.handleSubmit();\n    };\n\n    this.handleCancel = () => {\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.state = {\n      id: \"\",\n      username: \"\",\n      email: \"\",\n      comment: \"\",\n      course: \"\",\n      year: \"\",\n      visible: false\n    };\n  }\n\n  componentDidMount() {\n    if (localStorage.usertoken === undefined) {} else {\n      const token = localStorage.usertoken;\n      const decoded = jwt_decode(token);\n      console.log(decoded);\n      this.setState({\n        username: decoded.username,\n        email: decoded.email\n      });\n    }\n  }\n\n  handleCommentChange(event) {\n    this.setState({\n      comment: event.target.value\n    });\n  }\n\n  handleCourseChange(value) {\n    this.setState({\n      course: value\n    });\n  }\n\n  handleYearChange(value) {\n    this.setState({\n      year: value\n    });\n  }\n\n  handleSubmit() {\n    if (this.props.onSubmit) {\n      const _this$state = this.state,\n            username = _this$state.username,\n            comment = _this$state.comment,\n            course = _this$state.course,\n            year = _this$state.year;\n      this.props.onSubmit({\n        username,\n        comment,\n        course,\n        year\n      });\n    }\n\n    this.setState({\n      comment: \"\"\n    });\n  }\n\n  render() {\n    if (this.state.username !== \"\") {\n      console.log(this.state);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Username: \"), React.createElement(\"span\", {\n        className: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, this.state.username)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Details:\"), React.createElement(InputGroup, {\n        compact: true,\n        style: {\n          marginTop: \"5px\",\n          marginBottom: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(_Select, {\n        showSearch: true,\n        style: {\n          width: \"60%\"\n        },\n        placeholder: \"First major\",\n        optionFilterProp: \"children\",\n        onChange: this.handleCourseChange.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, firstMajor.map(y => React.createElement(Option, {\n        key: y,\n        value: y,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, y))), React.createElement(_Select, {\n        showSearch: true,\n        style: {\n          width: \"40%\"\n        },\n        placeholder: \"Year of Admission\",\n        optionFilterProp: \"children\",\n        onChange: this.handleYearChange.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, yearOfEnrolment.map(y => React.createElement(Option, {\n        key: y,\n        value: y,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, y))))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"comment-field-name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"Comment:\"), React.createElement(\"div\", {\n        className: \"comment-field-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(TextArea, {\n        style: {\n          marginTop: \"5px\",\n          marginBottom: \"10px\"\n        },\n        rows: 4,\n        value: this.state.comment,\n        onChange: this.handleCommentChange.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"comment-field-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(_Button, {\n        onClick: this.showModal.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"Submit\")), React.createElement(_Modal, {\n        visible: this.state.visible,\n        onOk: this.handleOk,\n        onCancel: this.handleCancel,\n        footer: [React.createElement(_Button, {\n          key: \"back\",\n          onClick: this.handleCancel,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, \"Return\"), React.createElement(_Button, {\n          key: \"submit\",\n          type: \"primary\",\n          onClick: this.handleOk,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }, \"Ok\")],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \"Once submitted, you will not be able to delete or edit your post. Confirm submission?\")));\n    } else {\n      return React.createElement(Login, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nCommentInput.propTypes = {\n  onSubmit: PropTypes.func\n};\nexport default CommentInput;","map":{"version":3,"sources":["/Users/arjunwang/PlanAhead copy/client/src/discuss/CommentInput.jsx"],"names":["React","Component","PropTypes","Login","jwt_decode","TextArea","Option","InputGroup","Group","yearOfEnrolment","firstMajor","CommentInput","constructor","showModal","setState","visible","handleOk","handleSubmit","handleCancel","state","id","username","email","comment","course","year","componentDidMount","localStorage","usertoken","undefined","token","decoded","console","log","handleCommentChange","event","target","value","handleCourseChange","handleYearChange","props","onSubmit","render","marginTop","marginBottom","width","bind","map","y","propTypes","func"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAO,eAAP;AAEA,OAAOC,UAAP,MAAuB,YAAvB;MAEQC,Q,UAAAA,Q;MACAC,M,WAAAA,M;AACR,MAAMC,UAAU,GAAG,OAAMC,KAAzB;AAEA,MAAMC,eAAe,GAAG,CACtB,aADsB,EAEtB,aAFsB,EAGtB,aAHsB,EAItB,aAJsB,EAKtB,aALsB,EAMtB,aANsB,EAOtB,aAPsB,EAQtB,aARsB,CAAxB;AAUA,MAAMC,UAAU,GAAG,CACjB,4BADiB,EAEjB,kBAFiB,EAGjB,oBAHiB,EAIjB,qBAJiB,EAKjB,oBALiB,CAAnB;;AAQA,MAAMC,YAAN,SAA2BV,SAA3B,CAAqC;AAKnCW,EAAAA,WAAW,GAAG;AACZ;;AADY,SAadC,SAbc,GAaF,MAAM;AAChB,WAAKC,QAAL,CAAc;AACZC,QAAAA,OAAO,EAAE;AADG,OAAd;AAGD,KAjBa;;AAAA,SAmBdC,QAnBc,GAmBH,MAAM;AACf,WAAKF,QAAL,CAAc;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAd;AACA,WAAKE,YAAL;AACD,KAtBa;;AAAA,SAwBdC,YAxBc,GAwBC,MAAM;AACnB,WAAKJ,QAAL,CAAc;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAd;AACD,KA1Ba;;AAEZ,SAAKI,KAAL,GAAa;AACXC,MAAAA,EAAE,EAAE,EADO;AAEXC,MAAAA,QAAQ,EAAE,EAFC;AAGXC,MAAAA,KAAK,EAAE,EAHI;AAIXC,MAAAA,OAAO,EAAE,EAJE;AAKXC,MAAAA,MAAM,EAAE,EALG;AAMXC,MAAAA,IAAI,EAAE,EANK;AAOXV,MAAAA,OAAO,EAAE;AAPE,KAAb;AASD;;AAiBDW,EAAAA,iBAAiB,GAAG;AAClB,QAAIC,YAAY,CAACC,SAAb,KAA2BC,SAA/B,EAA0C,CACzC,CADD,MACO;AACL,YAAMC,KAAK,GAAGH,YAAY,CAACC,SAA3B;AACA,YAAMG,OAAO,GAAG3B,UAAU,CAAC0B,KAAD,CAA1B;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;AACA,WAAKjB,QAAL,CAAc;AACZO,QAAAA,QAAQ,EAAEU,OAAO,CAACV,QADN;AAEZC,QAAAA,KAAK,EAAES,OAAO,CAACT;AAFH,OAAd;AAID;AACF;;AAEDY,EAAAA,mBAAmB,CAACC,KAAD,EAAQ;AACzB,SAAKrB,QAAL,CAAc;AACZS,MAAAA,OAAO,EAAEY,KAAK,CAACC,MAAN,CAAaC;AADV,KAAd;AAGD;;AACDC,EAAAA,kBAAkB,CAACD,KAAD,EAAQ;AACxB,SAAKvB,QAAL,CAAc;AACZU,MAAAA,MAAM,EAAEa;AADI,KAAd;AAGD;;AACDE,EAAAA,gBAAgB,CAACF,KAAD,EAAQ;AACtB,SAAKvB,QAAL,CAAc;AACZW,MAAAA,IAAI,EAAEY;AADM,KAAd;AAGD;;AACDpB,EAAAA,YAAY,GAAG;AACb,QAAI,KAAKuB,KAAL,CAAWC,QAAf,EAAyB;AAAA,0BACqB,KAAKtB,KAD1B;AAAA,YACfE,QADe,eACfA,QADe;AAAA,YACLE,OADK,eACLA,OADK;AAAA,YACIC,MADJ,eACIA,MADJ;AAAA,YACYC,IADZ,eACYA,IADZ;AAEvB,WAAKe,KAAL,CAAWC,QAAX,CAAoB;AAAEpB,QAAAA,QAAF;AAAYE,QAAAA,OAAZ;AAAqBC,QAAAA,MAArB;AAA6BC,QAAAA;AAA7B,OAApB;AACD;;AACD,SAAKX,QAAL,CAAc;AAAES,MAAAA,OAAO,EAAE;AAAX,KAAd;AACD;;AAEDmB,EAAAA,MAAM,GAAG;AACP,QAAI,KAAKvB,KAAL,CAAWE,QAAX,KAAwB,EAA5B,EAAgC;AAC9BW,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKd,KAAjB;AACA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAEE;AAAM,QAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAwB,KAAKA,KAAL,CAAWE,QAAnC,CAFF,CADF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE,oBAAC,UAAD;AACE,QAAA,OAAO,MADT;AAEE,QAAA,KAAK,EAAE;AAAEsB,UAAAA,SAAS,EAAE,KAAb;AAAoBC,UAAAA,YAAY,EAAE;AAAlC,SAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIE;AACE,QAAA,UAAU,MADZ;AAEE,QAAA,KAAK,EAAE;AAAEC,UAAAA,KAAK,EAAE;AAAT,SAFT;AAGE,QAAA,WAAW,EAAC,aAHd;AAIE,QAAA,gBAAgB,EAAC,UAJnB;AAKE,QAAA,QAAQ,EAAE,KAAKP,kBAAL,CAAwBQ,IAAxB,CAA6B,IAA7B,CALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOGpC,UAAU,CAACqC,GAAX,CAAeC,CAAC,IACf,oBAAC,MAAD;AAAQ,QAAA,GAAG,EAAEA,CAAb;AAAgB,QAAA,KAAK,EAAEA,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGA,CADH,CADD,CAPH,CAJF,EAkBE;AACE,QAAA,UAAU,MADZ;AAEE,QAAA,KAAK,EAAE;AAAEH,UAAAA,KAAK,EAAE;AAAT,SAFT;AAGE,QAAA,WAAW,EAAC,mBAHd;AAIE,QAAA,gBAAgB,EAAC,UAJnB;AAKE,QAAA,QAAQ,EAAE,KAAKN,gBAAL,CAAsBO,IAAtB,CAA2B,IAA3B,CALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOGrC,eAAe,CAACsC,GAAhB,CAAoBC,CAAC,IACpB,oBAAC,MAAD;AAAQ,QAAA,GAAG,EAAEA,CAAb;AAAgB,QAAA,KAAK,EAAEA,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGA,CADH,CADD,CAPH,CAlBF,CAFF,CALF,EAwCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,SAAS,EAAC,oBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AACE,QAAA,KAAK,EAAE;AAAEL,UAAAA,SAAS,EAAE,KAAb;AAAoBC,UAAAA,YAAY,EAAE;AAAlC,SADT;AAEE,QAAA,IAAI,EAAE,CAFR;AAGE,QAAA,KAAK,EAAE,KAAKzB,KAAL,CAAWI,OAHpB;AAIE,QAAA,QAAQ,EAAE,KAAKW,mBAAL,CAAyBY,IAAzB,CAA8B,IAA9B,CAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFF,CAxCF,EAmDE;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,OAAO,EAAE,KAAKjC,SAAL,CAAeiC,IAAf,CAAoB,IAApB,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CAnDF,EAsDE;AACE,QAAA,OAAO,EAAE,KAAK3B,KAAL,CAAWJ,OADtB;AAEE,QAAA,IAAI,EAAE,KAAKC,QAFb;AAGE,QAAA,QAAQ,EAAE,KAAKE,YAHjB;AAIE,QAAA,MAAM,EAAE,CACN;AAAQ,UAAA,GAAG,EAAC,MAAZ;AAAmB,UAAA,OAAO,EAAE,KAAKA,YAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADM,EAIN;AAAQ,UAAA,GAAG,EAAC,QAAZ;AAAqB,UAAA,IAAI,EAAC,SAA1B;AAAoC,UAAA,OAAO,EAAE,KAAKF,QAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJM,CAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAbF,EAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iGAdF,CAtDF,CADF;AA4ED,KA9ED,MA8EO;AACL,aAAO,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;AACF;;AAvJkC;;AAA/BL,Y,CACGsC,S,GAAY;AACjBR,EAAAA,QAAQ,EAAEvC,SAAS,CAACgD;AADH,C;AAyJrB,eAAevC,YAAf","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Input, Select, Modal } from \"antd\";\nimport Login from \"../component/Login\";\nimport \"./discuss.css\";\nimport { Button } from \"antd\";\nimport jwt_decode from \"jwt-decode\";\n\nconst { TextArea } = Input;\nconst { Option } = Select;\nconst InputGroup = Input.Group;\n\nconst yearOfEnrolment = [\n  \"AY2012/2013\",\n  \"AY2013/2014\",\n  \"AY2014/2015\",\n  \"AY2015/2016\",\n  \"AY2016/2017\",\n  \"AY2017/2018\",\n  \"AY2018/2019\",\n  \"AY2019/2020\"\n];\nconst firstMajor = [\n  \"Data Science and Analytics\",\n  \"Computer Science\",\n  \"Infomation Systems\",\n  \"Infomation Security\",\n  \"Business Analytics\"\n];\n\nclass CommentInput extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func\n  };\n\n  constructor() {\n    super();\n    this.state = {\n      id: \"\",\n      username: \"\",\n      email: \"\",\n      comment: \"\",\n      course: \"\",\n      year: \"\",\n      visible: false\n    };\n  }\n\n  showModal = () => {\n    this.setState({\n      visible: true\n    });\n  };\n\n  handleOk = () => {\n    this.setState({ visible: false });\n    this.handleSubmit();\n  };\n\n  handleCancel = () => {\n    this.setState({ visible: false });\n  };\n\n  componentDidMount() {\n    if (localStorage.usertoken === undefined) {\n    } else {\n      const token = localStorage.usertoken;\n      const decoded = jwt_decode(token);\n      console.log(decoded);\n      this.setState({\n        username: decoded.username,\n        email: decoded.email\n      });\n    }\n  }\n\n  handleCommentChange(event) {\n    this.setState({\n      comment: event.target.value\n    });\n  }\n  handleCourseChange(value) {\n    this.setState({\n      course: value\n    });\n  }\n  handleYearChange(value) {\n    this.setState({\n      year: value\n    });\n  }\n  handleSubmit() {\n    if (this.props.onSubmit) {\n      const { username, comment, course, year } = this.state;\n      this.props.onSubmit({ username, comment, course, year });\n    }\n    this.setState({ comment: \"\" });\n  }\n\n  render() {\n    if (this.state.username !== \"\") {\n      console.log(this.state);\n      return (\n        <div>\n          <div>\n            <span>Username: </span>\n            <span className=\"name\">{this.state.username}</span>\n          </div>\n          <div>\n            <span>Details:</span>\n            <InputGroup\n              compact\n              style={{ marginTop: \"5px\", marginBottom: \"10px\" }}\n            >\n              <Select\n                showSearch\n                style={{ width: \"60%\" }}\n                placeholder=\"First major\"\n                optionFilterProp=\"children\"\n                onChange={this.handleCourseChange.bind(this)}\n              >\n                {firstMajor.map(y => (\n                  <Option key={y} value={y}>\n                    {y}\n                  </Option>\n                ))}\n              </Select>\n\n              <Select\n                showSearch\n                style={{ width: \"40%\" }}\n                placeholder=\"Year of Admission\"\n                optionFilterProp=\"children\"\n                onChange={this.handleYearChange.bind(this)}\n              >\n                {yearOfEnrolment.map(y => (\n                  <Option key={y} value={y}>\n                    {y}\n                  </Option>\n                ))}\n              </Select>\n            </InputGroup>\n          </div>\n          <div>\n            <span className=\"comment-field-name\">Comment:</span>\n            <div className=\"comment-field-input\">\n              <TextArea\n                style={{ marginTop: \"5px\", marginBottom: \"10px\" }}\n                rows={4}\n                value={this.state.comment}\n                onChange={this.handleCommentChange.bind(this)}\n              />\n            </div>\n          </div>\n          <div className=\"comment-field-button\">\n            <Button onClick={this.showModal.bind(this)}>Submit</Button>\n          </div>\n          <Modal\n            visible={this.state.visible}\n            onOk={this.handleOk}\n            onCancel={this.handleCancel}\n            footer={[\n              <Button key=\"back\" onClick={this.handleCancel}>\n                Return\n              </Button>,\n              <Button key=\"submit\" type=\"primary\" onClick={this.handleOk}>\n                Ok\n              </Button>\n            ]}\n          >\n            <br />\n            <p>\n              Once submitted, you will not be able to delete or edit your post.\n              Confirm submission?\n            </p>\n          </Modal>\n        </div>\n      );\n    } else {\n      return <Login />;\n    }\n  }\n}\n\nexport default CommentInput;\n"]},"metadata":{},"sourceType":"module"}