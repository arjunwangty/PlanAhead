{"ast":null,"code":"import \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/select/style\";\nimport _Select from \"antd/es/select\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nvar _jsxFileName = \"/Users/arjunwang/react/client/src/discuss/CommentInput.jsx\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nconst TextArea = _Input.TextArea;\nconst Option = _Select.Option;\nconst InputGroup = _Input.Group;\nconst yearOfEnrolment = [\"AY2012/2013\", \"AY2013/2014\", \"AY2014/2015\", \"AY2015/2016\", \"AY2016/2017\", \"AY2017/2018\", \"AY2018/2019\", \"AY2019/2020\"];\nconst firstMajor = [\"Data Science and Analytics\", \"Computer Science\", \"Infomation Systems\", \"Infomation Security\", \"Business Analytics\"];\n\nclass CommentInput extends Component {\n  constructor() {\n    super();\n    this.state = {\n      id: \"\",\n      username: \"\",\n      comment: \"\",\n      course: \"\",\n      year: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.textarea.focus();\n  }\n\n  _saveUsername(username) {\n    localStorage.setItem(\"username\", username);\n  }\n\n  handleUsernameBlur(event) {\n    this._saveUsername(event.target.value);\n  }\n\n  handleUsernameChange(event) {\n    this.setState({\n      username: event.target.value\n    });\n  }\n\n  handleCommentChange(event) {\n    this.setState({\n      comment: event.target.value\n    });\n  }\n\n  handleCourseChange(value) {\n    this.setState({\n      course: value\n    });\n  }\n\n  handleYearChange(value) {\n    this.setState({\n      year: value\n    });\n  }\n\n  handleSubmit() {\n    if (this.props.onSubmit) {\n      const _this$state = this.state,\n            username = _this$state.username,\n            comment = _this$state.comment,\n            course = _this$state.course,\n            year = _this$state.year;\n      this.props.onSubmit({\n        username,\n        comment,\n        course,\n        year\n      });\n    }\n\n    this.setState({\n      comment: \"\"\n    });\n  }\n\n  componentWillMount() {\n    this._loadUsername();\n  }\n\n  _loadUsername() {\n    const username = localStorage.getItem(\"username\");\n\n    if (username) {\n      this.setState({\n        username\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Name:\"), React.createElement(_Input, {\n      style: {\n        marginTop: \"5px\",\n        marginBottom: \"10px\"\n      },\n      ref: textarea => this.textarea = textarea,\n      value: this.state.username,\n      onBlur: this.handleUsernameBlur.bind(this),\n      onChange: this.handleUsernameChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Details:\"), React.createElement(InputGroup, {\n      compact: true,\n      style: {\n        marginTop: \"5px\",\n        marginBottom: \"10px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(_Select, {\n      showSearch: true,\n      style: {\n        width: \"60%\"\n      },\n      placeholder: \"First major\",\n      optionFilterProp: \"children\",\n      onChange: this.handleCourseChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, firstMajor.map(y => React.createElement(Option, {\n      key: y,\n      value: y,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, y))), React.createElement(_Select, {\n      showSearch: true,\n      style: {\n        width: \"40%\"\n      },\n      placeholder: \"Year of Admission\",\n      optionFilterProp: \"children\",\n      onChange: this.handleYearChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, yearOfEnrolment.map(y => React.createElement(Option, {\n      key: y,\n      value: y,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, y))))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"comment-field-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Comment:\"), React.createElement(\"div\", {\n      className: \"comment-field-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(TextArea, {\n      style: {\n        marginTop: \"5px\",\n        marginBottom: \"10px\"\n      },\n      rows: 4,\n      value: this.state.comment,\n      onChange: this.handleCommentChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"comment-field-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(_Button, {\n      onClick: this.handleSubmit.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"Submit\")));\n  }\n\n}\n\nCommentInput.propTypes = {\n  onSubmit: PropTypes.func\n};\nexport default CommentInput;","map":{"version":3,"sources":["/Users/arjunwang/react/client/src/discuss/CommentInput.jsx"],"names":["React","Component","PropTypes","TextArea","Option","InputGroup","Group","yearOfEnrolment","firstMajor","CommentInput","constructor","state","id","username","comment","course","year","componentDidMount","textarea","focus","_saveUsername","localStorage","setItem","handleUsernameBlur","event","target","value","handleUsernameChange","setState","handleCommentChange","handleCourseChange","handleYearChange","handleSubmit","props","onSubmit","componentWillMount","_loadUsername","getItem","render","marginTop","marginBottom","bind","width","map","y","propTypes","func"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Input, Select } from \"antd\";\nimport { Button } from \"antd\";\n\nconst { TextArea } = Input;\nconst { Option } = Select;\nconst InputGroup = Input.Group;\n\nconst yearOfEnrolment = [\n  \"AY2012/2013\",\n  \"AY2013/2014\",\n  \"AY2014/2015\",\n  \"AY2015/2016\",\n  \"AY2016/2017\",\n  \"AY2017/2018\",\n  \"AY2018/2019\",\n  \"AY2019/2020\"\n];\nconst firstMajor = [\n  \"Data Science and Analytics\",\n  \"Computer Science\",\n  \"Infomation Systems\",\n  \"Infomation Security\",\n  \"Business Analytics\"\n];\n\nclass CommentInput extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func\n  };\n\n  constructor() {\n    super();\n    this.state = {\n      id: \"\",\n      username: \"\",\n      comment: \"\",\n      course: \"\",\n      year: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.textarea.focus();\n  }\n  _saveUsername(username) {\n    localStorage.setItem(\"username\", username);\n  }\n\n  handleUsernameBlur(event) {\n    this._saveUsername(event.target.value);\n  }\n  handleUsernameChange(event) {\n    this.setState({\n      username: event.target.value\n    });\n  }\n  handleCommentChange(event) {\n    this.setState({\n      comment: event.target.value\n    });\n  }\n  handleCourseChange(value) {\n    this.setState({\n      course: value\n    });\n  }\n  handleYearChange(value) {\n    this.setState({\n      year: value\n    });\n  }\n  handleSubmit() {\n    if (this.props.onSubmit) {\n      const { username, comment, course, year } = this.state;\n      this.props.onSubmit({ username, comment, course, year });\n    }\n    this.setState({ comment: \"\" });\n  }\n\n  componentWillMount() {\n    this._loadUsername();\n  }\n\n  _loadUsername() {\n    const username = localStorage.getItem(\"username\");\n    if (username) {\n      this.setState({ username });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div>\n          <span>Name:</span>\n          <Input\n            style={{ marginTop: \"5px\", marginBottom: \"10px\" }}\n            ref={textarea => (this.textarea = textarea)}\n            value={this.state.username}\n            onBlur={this.handleUsernameBlur.bind(this)}\n            onChange={this.handleUsernameChange.bind(this)}\n          />\n        </div>\n        <div>\n          <span>Details:</span>\n          <InputGroup\n            compact\n            style={{ marginTop: \"5px\", marginBottom: \"10px\" }}\n          >\n            <Select\n              showSearch\n              style={{ width: \"60%\" }}\n              placeholder=\"First major\"\n              optionFilterProp=\"children\"\n              onChange={this.handleCourseChange.bind(this)}\n            >\n              {firstMajor.map(y => (\n                <Option key={y} value={y}>\n                  {y}\n                </Option>\n              ))}\n            </Select>\n\n            <Select\n              showSearch\n              style={{ width: \"40%\" }}\n              placeholder=\"Year of Admission\"\n              optionFilterProp=\"children\"\n              onChange={this.handleYearChange.bind(this)}\n            >\n              {yearOfEnrolment.map(y => (\n                <Option key={y} value={y}>\n                  {y}\n                </Option>\n              ))}\n            </Select>\n          </InputGroup>\n        </div>\n        <div>\n          <span className=\"comment-field-name\">Comment:</span>\n          <div className=\"comment-field-input\">\n            <TextArea\n              style={{ marginTop: \"5px\", marginBottom: \"10px\" }}\n              rows={4}\n              value={this.state.comment}\n              onChange={this.handleCommentChange.bind(this)}\n            />\n          </div>\n        </div>\n        <div className=\"comment-field-button\">\n          <Button onClick={this.handleSubmit.bind(this)}>Submit</Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CommentInput;\n"]},"metadata":{},"sourceType":"module"}