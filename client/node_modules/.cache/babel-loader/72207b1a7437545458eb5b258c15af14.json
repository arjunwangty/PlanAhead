{"ast":null,"code":"import \"antd/es/message/style\";\nimport _message from \"antd/es/message\";\nvar _jsxFileName = \"/Users/arjunwang/react copy 2/client/src/component/droppable.jsx\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport storage from \"./storage\";\nexport default class Droppable extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.drop = e => {\n      e.preventDefault();\n\n      if (this.props.isDroppable) {\n        const data = e.dataTransfer.getData(\"transfer\");\n        let child = document.getElementById(data); //if drag into the dustbin\n\n        if (this.props.id === \"dustDroppable\") {\n          //additional mod -> 1. delete\n          if (child.getAttribute(\"name\") === \"additional\") {\n            const parent = child.parentElement;\n            console.log(parent);\n            parent.removeChild(child);\n            console.log(parent);\n            const parentid = parent.id;\n            storage.deleteMod(this.props.adyear, this.props.major, parent.id, child.lastChild.id);\n            const mc = parseInt(child.lastChild.getAttribute(\"mc\"));\n\n            if (parentid !== \"dust\" && parentid !== \"SearchBarContainer\" && parentid !== \"SideBarContainer\") {\n              document.getElementById(\"\".concat(parentid, \"button\")).innerText -= mc;\n              storage.changeMc(this.props.adyear, this.props.major, \"\".concat(parentid, \"button\"), -mc);\n              document.getElementById(\"totalmc\").innerText -= mc;\n              storage.changeTotalMc(this.props.adyear, this.props.major, -mc);\n            }\n          } else {\n            _message.warning(\"\".concat(child.lastChild.id, \" cannot be deleted\"));\n          }\n        }\n\n        if (this.props.id === \"SearchBar\") {\n          if (child.getAttribute(\"name\") === \"additional\") {\n            e.target.appendChild(child);\n          }\n        }\n\n        if (this.props.id === \"SideBar\") {\n          if (child.getAttribute(\"name\") === \"firstMajor\") {\n            e.target.appendChild(child);\n          }\n        }\n      }\n    };\n\n    this.allowDrop = e => {\n      e.preventDefault();\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: this.props.id,\n      onDrop: this.drop,\n      onDragOver: this.allowDrop,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, this.props.children);\n  }\n\n}\nDroppable.propTypes = {\n  id: PropTypes.string,\n  heading: PropTypes.string,\n  isDroppable: PropTypes.bool,\n  style: PropTypes.object,\n  children: PropTypes.node\n};","map":{"version":3,"sources":["/Users/arjunwang/react copy 2/client/src/component/droppable.jsx"],"names":["React","PropTypes","storage","Droppable","Component","drop","e","preventDefault","props","isDroppable","data","dataTransfer","getData","child","document","getElementById","id","getAttribute","parent","parentElement","console","log","removeChild","parentid","deleteMod","adyear","major","lastChild","mc","parseInt","innerText","changeMc","changeTotalMc","warning","target","appendChild","allowDrop","render","children","propTypes","string","heading","bool","style","object","node"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { message } from \"antd\";\nimport storage from \"./storage\";\n\nexport default class Droppable extends React.Component {\n  drop = e => {\n    e.preventDefault();\n    if (this.props.isDroppable) {\n      const data = e.dataTransfer.getData(\"transfer\");\n      let child = document.getElementById(data);\n      //if drag into the dustbin\n      if (this.props.id === \"dustDroppable\") {\n        //additional mod -> 1. delete\n        if (child.getAttribute(\"name\") === \"additional\") {\n          const parent = child.parentElement;\n          console.log(parent);\n          parent.removeChild(child);\n          console.log(parent);\n          const parentid = parent.id;\n          storage.deleteMod(this.props.adyear, this.props.major, parent.id, child.lastChild.id);\n          const mc = parseInt(child.lastChild.getAttribute(\"mc\"));\n          if (\n            parentid !== \"dust\" &&\n            parentid !== \"SearchBarContainer\" &&\n            parentid !== \"SideBarContainer\"\n          ) {\n            document.getElementById(`${parentid}button`).innerText-=mc;\n            storage.changeMc(this.props.adyear, this.props.major, `${parentid}button`, -mc);\n            document.getElementById(\"totalmc\").innerText-=mc;\n            storage.changeTotalMc(this.props.adyear, this.props.major, -mc);\n          }\n        } else {\n          message.warning(`${child.lastChild.id} cannot be deleted`);\n        }\n      }\n\n      if (this.props.id === \"SearchBar\") {\n        if (child.getAttribute(\"name\") === \"additional\") {\n          e.target.appendChild(child);\n        }\n      }\n\n      if (this.props.id === \"SideBar\") {\n        if (child.getAttribute(\"name\") === \"firstMajor\") {\n          e.target.appendChild(child);\n        }\n      }\n    }\n  };\n\n  allowDrop = e => {\n    e.preventDefault();\n  };\n\n  render() {\n    return (\n      <div\n        id={this.props.id}\n        onDrop={this.drop}\n        onDragOver={this.allowDrop}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nDroppable.propTypes = {\n  id: PropTypes.string,\n  heading: PropTypes.string,\n  isDroppable: PropTypes.bool,\n  style: PropTypes.object,\n  children: PropTypes.node\n};\n"]},"metadata":{},"sourceType":"module"}