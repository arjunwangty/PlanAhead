{"ast":null,"code":"import \"antd/es/menu/style\";\nimport _Menu from \"antd/es/menu\";\nimport \"antd/es/message/style\";\nimport _message from \"antd/es/message\";\nimport \"antd/es/layout/style\";\nimport _Layout from \"antd/es/layout\";\nvar _jsxFileName = \"/Users/arjunwang/react copy 2/client/src/discuss/CommentApp.jsx\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport CommentInput from \"./CommentInput\";\nimport CommentList from \"./CommentList\";\nimport \"./discuss.css\";\nimport MyFooter from \"../component/myFooter\";\nconst Content = _Layout.Content,\n      Sider = _Layout.Sider,\n      Footer = _Layout.Footer;\nconst firstMajor = [\"Data Science and Analytics\", \"Computer Science\", \"Infomation Systems\", \"Infomation Security\", \"Business Analytics\"];\n\nclass CommentApp extends Component {\n  constructor() {\n    super();\n    this.state = {\n      comments: []\n    };\n  }\n\n  componentDidMount() {\n    this._loadComments(\"all\");\n  }\n\n  _loadComments(value) {\n    if (value === \"all\") {\n      axios.get(\"/comments\").then(res => {\n        this.setState({\n          comments: res.data\n        });\n      });\n    } else {\n      axios.get(\"/comments\").then(res => {\n        const coms = res.data.filter(x => x.course === value);\n        this.setState({\n          comments: coms\n        });\n      });\n    }\n  }\n\n  handleSubmitComment(comment) {\n    if (!comment) return;\n    if (!comment.username) return _message.warning(\"Please enter a username\");\n    if (!comment.comment) return _message.warning(\"Please enter your comment\");\n    axios.post(\"/comments\", {\n      username: comment.username,\n      course: comment.course,\n      year: comment.year,\n      comment: comment.comment\n    }).then(function (response) {\n      console.log(response);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    return _message.success(\"Comment submitted, please reload the page to view your comment \");\n  }\n\n  handleSelect(value) {\n    this._loadComments(value);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(_Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(Sider, {\n      style: {\n        overflow: \"auto\",\n        height: \"100%\",\n        position: \"fixed\",\n        left: 0\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(_Menu, {\n      theme: \"dark\",\n      mode: \"inline\",\n      defaultSelectedKeys: [\"0\"],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(_Menu.Item, {\n      key: \"0\",\n      onClick: this.handleSelect.bind(this, \"all\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"All\"), firstMajor.map(y => React.createElement(_Menu.Item, {\n      key: firstMajor.indexOf(y) + 1,\n      onClick: this.handleSelect.bind(this, y),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, y)))), React.createElement(_Layout, {\n      style: {\n        marginLeft: 200\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(Content, {\n      style: {\n        margin: \"24px 16px 0\",\n        overflow: \"initial\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(CommentInput, {\n      onSubmit: this.handleSubmitComment.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(CommentList, {\n      comments: this.state.comments,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }))), React.createElement(Footer, {\n      style: {\n        padding: \"0px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(MyFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default CommentApp;","map":{"version":3,"sources":["/Users/arjunwang/react copy 2/client/src/discuss/CommentApp.jsx"],"names":["React","Component","axios","CommentInput","CommentList","MyFooter","Content","Sider","Footer","firstMajor","CommentApp","constructor","state","comments","componentDidMount","_loadComments","value","get","then","res","setState","data","coms","filter","x","course","handleSubmitComment","comment","username","warning","post","year","response","console","log","catch","error","success","handleSelect","render","overflow","height","position","left","bind","map","y","indexOf","marginLeft","margin","padding"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport CommentInput from \"./CommentInput\";\nimport CommentList from \"./CommentList\";\nimport \"./discuss.css\";\nimport MyFooter from \"../component/myFooter\";\nimport { Layout, Menu, message } from \"antd\";\n\nconst { Content, Sider, Footer } = Layout;\nconst firstMajor = [\n  \"Data Science and Analytics\",\n  \"Computer Science\",\n  \"Infomation Systems\",\n  \"Infomation Security\",\n  \"Business Analytics\"\n];\n\nclass CommentApp extends Component {\n  constructor() {\n    super();\n    this.state = {\n      comments: []\n    };\n  }\n\n  componentDidMount() {\n    this._loadComments(\"all\");\n  }\n\n  _loadComments(value) {\n    if (value === \"all\") {\n      axios.get(\"/comments\").then(res => {\n        this.setState({ comments: res.data });\n      });\n    } else {\n      axios.get(\"/comments\").then(res => {\n        const coms = res.data.filter(x => x.course === value);\n        this.setState({ comments: coms });\n      });\n    }\n  }\n\n  handleSubmitComment(comment) {\n    if (!comment) return;\n    if (!comment.username) return message.warning(\"Please enter a username\");\n    if (!comment.comment) return message.warning(\"Please enter your comment\");\n    axios\n      .post(\"/comments\", {\n        username: comment.username,\n        course: comment.course,\n        year: comment.year,\n        comment: comment.comment\n      })\n      .then(function(response) {\n        console.log(response);\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n    return message.success(\n      \"Comment submitted, please reload the page to view your comment \"\n    );\n  }\n\n  handleSelect(value) {\n    this._loadComments(value);\n  }\n\n  render() {\n    return (\n      <div>\n        <Layout>\n          <Sider\n            style={{\n              overflow: \"auto\",\n              height: \"100%\",\n              position: \"fixed\",\n              left: 0\n            }}\n          >\n            <div className=\"logo\" />\n            <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={[\"0\"]}>\n              <Menu.Item key=\"0\" onClick={this.handleSelect.bind(this, \"all\")}>\n                All\n              </Menu.Item>\n              {firstMajor.map(y => (\n                <Menu.Item\n                  key={firstMajor.indexOf(y) + 1}\n                  onClick={this.handleSelect.bind(this, y)}\n                >\n                  {y}\n                </Menu.Item>\n              ))}\n            </Menu>\n          </Sider>\n          <Layout style={{ marginLeft: 200 }}>\n            <Content style={{ margin: \"24px 16px 0\", overflow: \"initial\" }}>\n              <div className=\"wrapper\">\n                <CommentInput onSubmit={this.handleSubmitComment.bind(this)} />\n              </div>\n              <div>\n                <CommentList comments={this.state.comments} />\n              </div>\n            </Content>\n            <Footer\n              style={{\n                padding: \"0px\"\n              }}\n            >\n              <MyFooter />\n            </Footer>\n          </Layout>\n        </Layout>\n      </div>\n    );\n  }\n}\n\nexport default CommentApp;\n"]},"metadata":{},"sourceType":"module"}